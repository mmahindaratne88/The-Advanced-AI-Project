<!-- templates/request_access.html -->
{% extends 'base.html' %}

{% block content %}

<div class="request-access-container">
    <h1>Request Access</h1>
    <form id="request-access-form" method="post" action="{{ url_for('request_access') }}">
        {{ form.csrf_token }}
        <div class="form-group">
            <label for="full_name">Full Name:</label>
            <input type="text" id="full_name" name="full_name" required>
        </div>
        <div class="form-group">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Display any validation errors here -->
    <div id="error-message" style="color: red;"></div>

    <script>
        document.getElementById('request-access-form').addEventListener('submit', function(event) {
            var fullName = document.getElementById('full_name').value.trim();
            var email = document.getElementById('email').value.trim();
            var errorMessage = '';

            // Basic form validation
            if (fullName === '') {
                errorMessage += 'Please enter your full name.\n';
            }
            if (email === '') {
                errorMessage += 'Please enter your email address.\n';
            }

            if (errorMessage !== '') {
                event.preventDefault(); // Prevent form submission
                document.getElementById('error-message').textContent = errorMessage;
            }
        });
    </script>
</div>
{% endblock %}
